<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<link rel="stylesheet" href="/_assets/main.css" />

    <title>Shell basics - cheatsheet - Today I Learned</title>
  <link rel="stylesheet" href="/_markdown_plugin_assets/katex/katex.css" />
<link rel="stylesheet" href="/_markdown_plugin_assets/highlight.js/atom-one-light.css" /></head>
  <body>
    <div class="main">
      <nav class="navigation">
        <a href="/">Today I Learned</a>
      </nav>
      <article>
        <header>
          <h1 class="article-title">Shell basics - cheatsheet</h1>
          <div class="article-info">
            <div>
              <span
                >Created At：<time datetime="1698364240000"
                  >2023-10-26 19:50</time
                ></span
              >
              <span
                >Updated At：<time datetime="1698680893591"
                  >2023-10-30 11:48</time
                ></span
              >
            </div>
            
          </div>
        </header>
        <div class="article-content markdown-body"><h1 id="shell-basics-cheatsheet">Shell basics - cheatsheet</h1>
<h3 id="return-your-user-name">return your user name</h3>
<p>whoami</p>
<h3 id="return-your-user-and-group-id">return your user and group id</h3>
<p>id</p>
<h3 id="return-operating-system-name-username-and-other-info">return operating system name, username, and other info</h3>
<p>uname -a</p>
<h3 id="display-reference-manual-for-a-command">display reference manual for a command</h3>
<p>man top</p>
<h3 id="get-help-on-a-command">get help on a command</h3>
<p>curl --help</p>
<h3 id="return-the-current-date-and-time">return the current date and time</h3>
<p>date</p>
<hr />
<h1 id="monitoring-performance-and-status">Monitoring performance and status</h1>
<h3 id="list-selection-of-or-all-running-processes-and-their-pids">list selection of or all running processes and their PIDs</h3>
<p>ps<br />
ps -e</p>
<h3 id="display-resource-usage">display resource usage</h3>
<p>top</p>
<h3 id="list-mounted-file-systems-and-usage">list mounted file systems and usage</h3>
<p>df</p>
<hr />
<h2 id="working-with-files">Working with files</h2>
<h3 id="copy-a-file">copy a file</h3>
<p>cp file.txt new_path/new_name.txt</p>
<h3 id="change-file-name-or-path">change file name or path</h3>
<p>mv this_file.txt that_path/that_file.txt</p>
<h3 id="remove-a-file-verbosely">remove a file verbosely</h3>
<p>rm this_old_file.txt -v</p>
<h3 id="create-an-empty-file-or-update-existing-files-timestamp">create an empty file, or update existing file's timestamp</h3>
<p>touch a_new_file.txt</p>
<h3 id="changemodify-file-permissions-to-execute-for-all-users">change/modify file permissions to 'execute' for all users</h3>
<p>chmod +x my_script.sh</p>
<h3 id="get-count-of-lines-words-or-characters-in-file">get count of lines, words, or characters in file</h3>
<p>wc -l table_of_data.csv<br />
wc -w my_essay.txt<br />
wc -m some_document.txt</p>
<h3 id="return-lines-matching-a-pattern-from-files-matching-a-filename-pattern-case-insensitive-and-whole-words-only">return lines matching a pattern from files matching a filename pattern - case insensitive and whole words only</h3>
<p>grep -iw hello *.txt</p>
<h3 id="return-file-names-with-lines-matching-the-pattern-hello-from-files-matching-a-filename-pattern">return file names with lines matching the pattern 'hello' from files matching a filename pattern</h3>
<p>grep -l hello *.txt</p>
<p>Navigating and working with directories</p>
<h3 id="list-files-and-directories-by-date-newest-last">list files and directories by date, newest last</h3>
<p>ls -lrt</p>
<h3 id="find-files-in-directory-tree-with-suffix-sh">find files in directory tree with suffix 'sh'</h3>
<p>find -name '*.sh'</p>
<h3 id="return-present-working-directory">return present working directory</h3>
<p>pwd</p>
<h3 id="make-a-new-directory">make a new directory</h3>
<p>mkdir new_folder</p>
<h3 id="change-the-current-directory-up-one-level-home-or-some-other-path">change the current directory: up one level, home, or some other path</h3>
<p>cd ../<br />
cd ~ or cd<br />
cd another_directory</p>
<h3 id="remove-directory-verbosely">remove directory, verbosely</h3>
<p>rmdir temp_directory -v</p>
<hr />
<h2 id="printing-file-and-string-contents">Printing file and string contents</h2>
<h3 id="print-file-contents">print file contents</h3>
<p>cat my_shell_script.sh</p>
<h3 id="print-file-contents-page-by-page">print file contents page-by-page</h3>
<p>more ReadMe.txt</p>
<h3 id="print-first-n-lines-of-file">print first N lines of file</h3>
<p>head -10 data_table.csv</p>
<h3 id="print-last-n-lines-of-file">print last N lines of file</h3>
<p>tail -10 data_table.csv</p>
<h3 id="print-string-or-variable-value">print string or variable value</h3>
<p>echo "I am not a robot"<br />
echo "I am $USERNAME"</p>
<p>Compression and archiving</p>
<h3 id="archive-a-set-of-files">archive a set of files</h3>
<p>tar -cvf my_archive.tar.gz file1 file2 file3</p>
<h3 id="compress-a-set-of-files">compress a set of files</h3>
<p>zip my_zipped_files.zip file1 file2<br />
zip my_zipped_folders.zip directory1 directory2</p>
<h3 id="extract-files-from-a-compressed-zip-archive">extract files from a compressed zip archive</h3>
<p>unzip my_zipped_file.zip<br />
unzip my_zipped_file.zip -d extract_to_this_direcory</p>
<hr />
<h2 id="performing-network-operations">Performing network operations</h2>
<h3 id="print-hostname">print hostname</h3>
<p>hostname</p>
<h3 id="send-packets-to-url-and-print-response">send packets to URL and print response</h3>
<p>ping www.google.com</p>
<h3 id="display-or-configure-system-network-interfaces">display or configure system network interfaces</h3>
<p>ifconfig<br />
ip</p>
<h3 id="display-contents-of-file-at-a-url">display contents of file at a URL</h3>
<p>curl</p>
<h3 id="download-file-from-a-url">download file from a URL</h3>
<p>wget</p>
<p>Bash shebang<br />
\#!/bin/bash</p>
<p>Pipes and Filters</p>
<h3 id="chain-filter-commands-using-the-pipe-operator">chain filter commands using the pipe operator</h3>
<p>ls | sort -r</p>
<h3 id="pipe-the-output-of-manual-page-for-ls-to-head-to-display-the-first-20-lines">pipe the output of manual page for ls to head to display the first 20 lines</h3>
<p>man ls | head -20</p>
<p>Shell and Environment Variables</p>
<h3 id="list-all-shell-variables">list all shell variables</h3>
<p>set</p>
<h3 id="define-a-shell-variable-called-my_planet-and-assign-value-earth-to-it">define a shell variable called my_planet and assign value Earth to it</h3>
<p>my_planet=Earth</p>
<h3 id="display-shell-variable">display shell variable</h3>
<p>echo $my_planet</p>
<h3 id="list-all-environment-variables">list all environment variables</h3>
<p>env</p>
<h3 id="environment-vars-defineextend-variable-scope-to-child-processes">environment vars: define/extend variable scope to child processes</h3>
<h2 id="export-my_planet">export my_planet</h2>
<p>export my_galaxy='Milky Way'</p>
<h2 id="metacharacters">Metacharacters</h2>
<h3 id="comments">comments</h3>
<p># The shell will not respond to this message</p>
<h3 id="command-separator">command separator</h3>
<p>echo 'here are some files and folders'; ls</p>
<h3 id="file-name-expansion-wildcard">file name expansion wildcard</h3>
<p>ls *.json</p>
<h3 id="single-character-wildcard">single character wildcard</h3>
<p>ls file_2021-06-??.json</p>
<p>Quoting</p>
<h3 id="single-quotes-interpret-literally">single quotes - interpret literally</h3>
<p>echo 'My home directory can be accessed by entering: echo $HOME'</p>
<h3 id="double-quotes-interpret-literally-but-evaluate-metacharacters">double quotes - interpret literally, but evaluate metacharacters</h3>
<p>echo "My home directory is $HOME"</p>
<h3 id="backslash-escape-metacharacter-interpretation">backslash - escape metacharacter interpretation</h3>
<p>echo "This dollar sign should render: $"</p>
<hr />
<h2 id="io-redirection">I/O Redirection</h2>
<h3 id="redirect-output-to-file">redirect output to file</h3>
<p>echo 'Write this text to file x' &gt; x</p>
<h3 id="append-output-to-file">append output to file</h3>
<p>echo 'Add this line to file x' &gt;&gt; x</p>
<h3 id="redirect-standard-error-to-file">redirect standard error to file</h3>
<p>bad_command_1 2&gt; error.log</p>
<h3 id="append-standard-error-to-file">append standard error to file</h3>
<p>bad_command_2 2&gt;&gt; error.log</p>
<h3 id="redirect-file-contents-to-standard-input">redirect file contents to standard input</h3>
<p>$ tr “[a-z]” “[A-Z]” &lt; a_text_file.txt</p>
<h3 id="the-input-redirection-above-is-equivalent-to">the input redirection above is equivalent to</h3>
<p>$cat a_text_file.txt | tr “[a-z]” “[A-Z]”</p>
<hr />
<h2 id="command-substitution">Command Substitution</h2>
<h3 id="capture-output-of-a-command-and-echo-its-value">capture output of a command and echo its value</h3>
<p>THE_PRESENT=$(date)<br />
echo "There is no time like $THE_PRESENT"</p>
<p>Command line arguments<br />
./My_Bash_Script.sh arg1 arg2 arg3</p>
<p>Batch vs. concurrent modes</p>
<h3 id="run-commands-sequentially">run commands sequentially</h3>
<p>start=<span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>d</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo stretchy="false">)</mo><mo separator="true">;</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">/</mi><mi>M</mi><mi>y</mi><mi>B</mi><mi>i</mi><mi>g</mi><mi>S</mi><mi>c</mi><mi>r</mi><mi>i</mi><mi>p</mi><mi>t</mi><mi mathvariant="normal">.</mi><mi>s</mi><mi>h</mi><mo separator="true">;</mo><mi>e</mi><mi>n</mi><mi>d</mi><mo>=</mo></mrow><annotation encoding="application/x-tex">(date); ./MyBigScript.sh ; end=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal">d</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em"></span><span class="mord">./</span><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="mord mathnormal" style="margin-right:0.02778em">cr</span><span class="mord mathnormal">i</span><span class="mord mathnormal">pt</span><span class="mord">.</span><span class="mord mathnormal">s</span><span class="mord mathnormal">h</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em"></span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">=</span></span></span></span></span>(date)</p>
<h3 id="run-commands-in-parallel">run commands in parallel</h3>
<p>./ETL_chunk_one_on_these_nodes.sh &amp; ./ETL_chunk_two_on_those_nodes.sh</p>
<hr />
<h2 id="scheduling-jobs-with-cron">Scheduling jobs with Cron</h2>
<h3 id="open-crontab-editor">open crontab editor</h3>
<p>crontab -e</p>
<h3 id="job-scheduling-syntax">job scheduling syntax</h3>
<p>m h dom mon dow command<br />
minute, hour, day of month, month, day of week</p>
<ul>
<li>means any</li>
</ul>
<h3 id="append-the-datetime-to-file-every-sunday-at-615-pm">append the date/time to file every Sunday at 6:15 pm</h3>
<p>15 18 * * 0 date &gt;&gt; sundays.txt</p>
<h3 id="run-a-shell-script-on-the-first-minute-of-the-first-day-of-each-month">run a shell script on the first minute of the first day of each month</h3>
<p>1 0 1 * * ./My_Shell_Script.sh</p>
<h3 id="back-up-your-home-directory-every-monday-at-3-am">back up your home directory every Monday at 3 am</h3>
<p>0 3 * * 1 tar -cvf my_backup_path\my_archive.tar.gz $HOME\</p>
<h3 id="deploy-your-cron-job">deploy your cron job</h3>
<p>Close the crontab editor and save the file</p>
<h3 id="list-all-cron-jobs">list all cron jobs</h3>
<p>crontab -l</p>
<div><pre class="hljs"><code><span class="hljs-meta">$ </span><span class="language-bash"><span class="hljs-built_in">declare</span> -a myArray</span>
<span class="hljs-meta">$ </span><span class="language-bash">myArray+=(<span class="hljs-string">"Linux"</span>)</span>
<span class="hljs-meta">$ </span><span class="language-bash">myArray+=(<span class="hljs-string">"is"</span>)</span>
<span class="hljs-meta">$ </span><span class="language-bash">myArray+=(<span class="hljs-string">"cool!"</span>)</span>
<span class="hljs-meta">$ </span><span class="language-bash"><span class="hljs-built_in">echo</span> <span class="hljs-variable">${myArray[@]}</span></span></code></pre></div>
</div>
      </article>
    </div>
  </body>
</html>
